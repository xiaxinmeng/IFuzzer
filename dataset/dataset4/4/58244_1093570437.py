if self.scheme == "http":
    return 80
elif self.scheme == "https":
    [...]