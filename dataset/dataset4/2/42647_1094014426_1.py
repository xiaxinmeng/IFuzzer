foo()
s.push(data)
s.handle_error()
bar()