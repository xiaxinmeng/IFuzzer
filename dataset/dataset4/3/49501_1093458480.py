with nested(outer(), trap(), fail()):
 ...