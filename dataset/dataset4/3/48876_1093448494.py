from code import InteractiveInterpreter

ii = InteractiveInterpreter()
source = ...
ii.runsource(source)